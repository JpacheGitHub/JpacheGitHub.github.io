<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    

    <title>
      自定义 TabBarController 封装 | Jpache’s blog 
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
    

    <meta name="description" content="今天来封装一个自定义的 TabBarController, 来实现类似伴鱼, 微博等 App 的 TabBar 的效果.">
<meta property="og:type" content="article">
<meta property="og:title" content="自定义 TabBarController 封装 | Jpache’s blog">
<meta property="og:url" content="http://yoursite.com/2016/05/06/自定义 TabBarController 封装/index.html">
<meta property="og:site_name" content="Jpache’s blog">
<meta property="og:description" content="今天来封装一个自定义的 TabBarController, 来实现类似伴鱼, 微博等 App 的 TabBar 的效果.">
<meta property="og:updated_time" content="2016-05-06T17:19:56.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="自定义 TabBarController 封装 | Jpache’s blog">
<meta name="twitter:description" content="今天来封装一个自定义的 TabBarController, 来实现类似伴鱼, 微博等 App 的 TabBar 的效果.">
    
    
    
      <link rel="icon" type="image/x-icon" href="/favicon.png">
    
    <link rel="stylesheet" href="/css/uno.css">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/archive.css">

</head>
<body>

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    

<header class="panel-cover panel-cover--collapsed">


  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        

        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage">Jpache’s blog</a></h1>
        <hr class="panel-cover__divider" />

        
        <p class="panel-cover__description">
          嗨，我是景鹏博。一名 iOS 开发者。
        </p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">

              
                
                <li class="navigation__item"><a href="/#blog" title="" class="blog-button">博客</a></li>
              

            </ul>
          </nav>

          <!-- ----------------------------
To add a new social icon simply duplicate one of the list items from below
and change the class in the <i> tag to match the desired social network
and then add your link to the <a>. Here is a full list of social network
classes that you can use:

    icon-social-500px
    icon-social-behance
    icon-social-delicious
    icon-social-designer-news
    icon-social-deviant-art
    icon-social-digg
    icon-social-dribbble
    icon-social-facebook
    icon-social-flickr
    icon-social-forrst
    icon-social-foursquare
    icon-social-github
    icon-social-google-plus
    icon-social-hi5
    icon-social-instagram
    icon-social-lastfm
    icon-social-linkedin
    icon-social-medium
    icon-social-myspace
    icon-social-path
    icon-social-pinterest
    icon-social-rdio
    icon-social-reddit
    icon-social-skype
    icon-social-spotify
    icon-social-stack-overflow
    icon-social-steam
    icon-social-stumbleupon
    icon-social-treehouse
    icon-social-tumblr
    icon-social-twitter
    icon-social-vimeo
    icon-social-xbox
    icon-social-yelp
    icon-social-youtube
    icon-social-zerply
    icon-mail

-------------------------------->

<!-- add social info here -->



<nav class="cover-navigation navigation--social">
  <ul class="navigation">

    
      <!-- Github -->
      <li class="navigation__item">
        <a href="https://github.com/JpacheGitHub" title="Huno on GitHub">
          <i class='icon icon-social-github'></i>
          <span class="label">GitHub</span>
        </a>
      </li>

    

  </ul>
</nav>



        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner entry">
            

<article class="post-container post-container--single">

  <header class="post-header">
    
    <h1 class="post-title">自定义 TabBarController 封装</h1>

    

    <div class="post-meta">
      <time datetime="2016-05-06" class="post-meta__date date">2016-05-06</time> 

      <span class="post-meta__tags tags">

          

          
             &#8226; 标签:
            <font class="tags">
              <a class="tags-link" href="/tags/UI/">UI</a>
            </font>
          

      </span>
    </div>
    
    

  </header>

  <section id="post-content" class="article-content post">
    <p>  今天来封装一个自定义的 TabBarController, 来实现类似伴鱼, 微博等 App 的 TabBar 的效果.</p>
<a id="more"></a>
<h2 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;开始之前先来了解一下系统原生的 UITabBarController 的层级关系<br>  UITabBarController(继承与 UIViewController) -&gt; UITabBar -&gt; UITabBarButton<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;这里我们需要重写的有 UITabBarController 和 UITabBar, 至于 UITabBarButton, 我的做法是直接删掉, 把我们自己想要的样式的 button 放在上面, 不一定是最好的方法, 有其他好的方法的望告知. 而在这大家会发现好像缺少了一样东西 – UITabBarItem, 仔细看一下就会发现, 它是继承与 NSObject 的类, 所以它的用途只是方便我们的操作, 类似于一个 model, 整合一些属性而已, 当然, 我们也可以做一个类似的东西, 这里我们也同样做了这个东西.<br>网上大概有几种做法:</p>
<ol>
<li>将自定义的 TabBar 添加到系统自带的 TabBar 上, 这样可能会省去很多工作量, 不过作为一个强迫症患者, 总觉得既然重新写了, 就不要再有那么多的层级关系, 不要再让系统的东西摆在那了. 所以我决定放弃这种方法.</li>
<li>将系统自带的 TabBar 从 UITabBarController 的 view 上 remove 掉, 然后将自定义的 TabBar 添加在 UITabBarController 的 view 上, 一开始我是用的这种方式, 紧接着就会发现问题, 比如你想在 push 的时候设置 hidesBottomBarWhenPush 这个属性的时候, 就会发现这个属性失效了, 猜测是因为类似的这种属性只对系统自带的控件有效果, 本着程序员都是很懒的打字员的原则, 这种方式的工作量也太大, 所以也放弃了这种方式.</li>
<li>使用 KVC 将自定义的 TabBar 替换掉系统的 TabBar, 系统自带的 TabBar 是一个 readOnly 的属性, 我们是没法对其进行操作的, 不过强大的 KVC 可以帮我们完成这个操作, setValue:forKeyPath:, 这样, TabBar 就成了我们自己定义的 TabBar, 而因为是替换的, 所以系统的一些属性对它还是仍然有效的. 所以果断选择这种方式.</li>
</ol>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;接下来开始我们的封装.</p>
<h2 id="PBTabBarController"><a href="#PBTabBarController" class="headerlink" title="PBTabBarController"></a>PBTabBarController</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在 viewDidLoad 中, 只有一个操作, 就是使用刚刚提到的 KVC 的方式将我们自定义的 TabBar 替换掉</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[self <span class="built_in">set</span>Value:self.pb_tabBar <span class="keyword">for</span>KeyPath:@<span class="string">"tabBar"</span>];</span><br></pre></td></tr></table></figure>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;因为在使用 TabBarController 的过程中都会这是其 viewControllers 这个属性, 所以我们在这里给 TabBar 添加 item, 也就是添加 button. 需要我们自己定义的 TabBar 暴露出一个添加 Item 的方法.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- (void)<span class="built_in">set</span>ViewControllers:(NSArray&lt;__kindof UIViewController *&gt; *)viewControllers &#123;</span><br><span class="line"></span><br><span class="line">    [super <span class="built_in">set</span>ViewControllers:vcArr];</span><br><span class="line">    </span><br><span class="line">    [self addTabBarItem];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;另外还需要实现 TabBar 的代理方法, 来响应 TabBarButton 的点击事件. </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- (void)tabBarVCItem:(PBTabBar *)tabBar selectedFrom:(NSInteger)from to:(NSInteger)to &#123;</span><br><span class="line">    self.selectedIndex = to;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;建议大家重新写一下这个方法, 因为有的时候可能需要直接修改 tabBarController.selectedIndex 的属性, 这里就暴露出了将 TabBar 上面的 UITabBarButton 移除掉, 使用自定义 button 的缺陷, 还是有一些属性是失效的. 重写 selectedIndex 的 set 方法就是为了弥补这个缺陷. 当然在 TabBar 中也会有对应的一些操作, 后面会贴出相应的代码.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- (void)<span class="built_in">set</span>SelectedIndex:(NSUInteger)selectedIndex &#123;</span><br><span class="line">    [super <span class="built_in">set</span>SelectedIndex:selectedIndex];</span><br><span class="line">    self.pb_tabBar.selectedIndex = selectedIndex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="PBTabBar"><a href="#PBTabBar" class="headerlink" title="PBTabBar"></a>PBTabBar</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;首先是给 TabBar 添加 Item 的方法, 因为这个操作要在 TabBarController 中进行, 所以要在.h 文件中声明.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">// 暴露给 TabBarController 使用的添加 Item 的方法</span><br><span class="line">- (void)addVCItem:(PBTabBarItem *)item count:(NSInteger)count &#123;</span><br><span class="line"></span><br><span class="line">    [self.tabBarButtons addObject:item.tabBarButton];</span><br><span class="line">    [item.tabBarButton addTarget:self action:@selector(tabBarVCItemAction:) <span class="keyword">for</span>ControlEvents:UIControlEventTouchUpInside];</span><br><span class="line"></span><br><span class="line">    [self addSubview:item.tabBarButton];</span><br><span class="line"></span><br><span class="line">    // 如果是第一个按钮, 则选中(按顺序一个个添加)</span><br><span class="line">    <span class="keyword">if</span> (count == 0) &#123;</span><br><span class="line">        [self tabBarVCItemAction:item.tabBarButton];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在 TabBar 中, 最重要的就是对 TabBar 的 LayoutSubViews 进行重写, 在 LayoutSubViews 方法中, 对 TabBar 上面的控件进行修改布局操作. 我个人也是在这个方法中将系统的 UITabBarButton 删掉. 以免以后使用过程中. 它跑出来捣乱.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- (void)layoutSubviews &#123;</span><br><span class="line">    [super layoutSubviews];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (UIView *tabBarButton <span class="keyword">in</span> self.subviews) &#123;</span><br><span class="line">        <span class="keyword">if</span> ([tabBarButton isKindOfClass:NSClassFromString(@<span class="string">"UITabBarButton"</span>)]) &#123;</span><br><span class="line">            [tabBarButton removeFromSuperview];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // 在这里进行 frame 的设置</span><br><span class="line">    // 具体的代码就不贴出来了, 我的代码比较多...因为兼容了三种 type.</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;对于布局的计算, 由于代码太多, 就不在这里贴代码出来了, 文章最后会附上 demo 地址, 大家下载看下就可以了.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;下一个我们需要考虑的问题就是: 如果中间的自定义按钮是圆形的, 那可能会有一部分是超出 TabBar 的, 超出的这部分会响应不到点击事件. 解决的办法很简单, 代码如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event &#123;</span><br><span class="line">    </span><br><span class="line">    // 这个判断的原因是, 当 TabBar 隐藏后, 因为圆形按钮以外的部分都是直接用[super hitTest:point withEvent:event]返回的. </span><br><span class="line">    // 而系统默认的, 当 TabBar 隐藏后, 就不会响应点击事件了.</span><br><span class="line">    // 但是因为这个圆形区域是我们强制返回的 _circleBtn.</span><br><span class="line">    // 所以如果没有这个判断, 就会出现, 当 TabBar 隐藏之后, 这个区域依然会响应圆形按钮的点击事件的奇怪效果.</span><br><span class="line">    <span class="keyword">if</span> (self.hidden == YES) &#123;</span><br><span class="line">        <span class="built_in">return</span> nil;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (_tabBarControllerType == PBTabBarControllerCircleType) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ([self isPointInsideTabBar:point]) &#123;</span><br><span class="line">            <span class="built_in">return</span> _circleBtn;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">return</span> [super hitTest:point withEvent:event];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> [super hitTest:point withEvent:event];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 判断点击事件是否在这个圆形特殊按钮的区域内</span><br><span class="line">- (BOOL)isPointInsideTabBar:(CGPoint)point &#123;</span><br><span class="line"></span><br><span class="line">    point.y = sqrt(point.y * point.y);</span><br><span class="line"></span><br><span class="line">    CGFloat valueX = point.x - (self.bounds.size.width / 2);</span><br><span class="line">    CGFloat valueY = point.y - (self.bounds.size.height / 2);</span><br><span class="line"></span><br><span class="line">    CGFloat distance = sqrt((valueX * valueX) + (valueY * valueY));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (distance &lt; 35) &#123;</span><br><span class="line">        <span class="built_in">return</span> YES;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">return</span> NO;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在按钮的点击事件中, 我们可以做一下操作:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- (void)tabBarVCItemAction:(PBTabBarButton *)sender &#123;</span><br><span class="line"></span><br><span class="line">    // 1.先将之前选中的按钮设置为未选中</span><br><span class="line">    self.selectedBtn.selected = NO;</span><br><span class="line">    // 2.再将当前按钮设置为选中</span><br><span class="line">    sender.selected = YES;</span><br><span class="line">    // 3.最后把当前按钮赋值为之前选中的按钮</span><br><span class="line">    self.selectedBtn = sender;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ([self.pb_delegate respondsToSelector:@selector(tabBarVCItem:selectedFrom:to:)]) &#123;</span><br><span class="line">        [self.pb_delegate tabBarVCItem:self selectedFrom:self.selectedBtn.tag - 1024 to:sender.tag - 1024];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;下面这段代码是在 TabBarController 中重写 selectedIndex 的 set 方法的对应操作.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">- (void)<span class="built_in">set</span>SelectedIndex:(NSInteger)selectedIndex &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (selectedIndex &lt; 0) &#123;</span><br><span class="line">        <span class="built_in">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    _selectedIndex = selectedIndex;</span><br><span class="line"></span><br><span class="line">    PBTabBarButton *button = [self viewWithTag:BUTTON_DEFAULT_TAG + selectedIndex];</span><br><span class="line">    // 1.先将之前选中的按钮设置为未选中</span><br><span class="line">    self.selectedBtn.selected = NO;</span><br><span class="line">    // 2.再将当前按钮设置为选中</span><br><span class="line">    button.selected = YES;</span><br><span class="line">    // 3.最后把当前按钮赋值为之前选中的按钮</span><br><span class="line">    self.selectedBtn = button;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一些简单的提示性的代码就先贴这些…其他的代码比较烦杂, 就不一一贴出来了, 附上 demo 地址, 大家自行查看, 如果大家觉得有一些帮助或者还算好用的话不要吝啬你的星星哦…<br><a href="https://github.com/JpacheGitHub/PBTabBarController" target="_blank" rel="external">https://github.com/JpacheGitHub/PBTabBarController</a></p>

  </section>

  
  
  

<section class="post-comments">
    

<nav class="cover-navigation navigation--social">
  <div class="ds-share" data-thread-key="此处请替换为当前文章的thread-key" data-title=““ data-images="此处请替换为分享时显示的图片的链接地址" data-content="" data-url="/<">
    <div class="ds-share-inline">
      <ul  class="ds-share-icons-32">
      	

        <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat"></a></li>
        <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo"></a></li>
        <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone"></a></li>
        <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt"></a></li>
        <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);"></a></li>
      	
      </ul>
      <div class="ds-share-icons-more">
      </div>
    </div>
 </div>
</nav>


    <div class="ds-thread" data-thread-key="2016/05/06/自定义 TabBarController 封装/"></div>
    <script type="text/javascript">
      var duoshuoQuery = {short_name:"jpache"};
      (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
        || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
    </script> 

</section>


</article>


            <footer class="footer">

    <span class="footer__copyright">&copy; 2014-2015. | <a href="https://www.jpache.com">Jpache’s blog</a> | 主题<a href="https://github.com/someus/huno">Huno</a></span>
    
</footer>
        </div>
    </div>

    <!-- js files -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/scale.fix.js"></script>
    

    

    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript"> 
        $(document).ready(function(){
            MathJax.Hub.Config({ 
                tex2jax: {inlineMath: [['[latex]','[/latex]'], ['\\(','\\)']]} 
            });
        });
    </script>


    

    <script src="/js/awesome-toc.min.js"></script>
    <script>
        $(document).ready(function(){
            $.awesome_toc({
                overlay: true,
                contentId: "post-content",
            });
        });
    </script>


    
    
    <!--kill ie6 -->
<!--[if IE 6]>
  <script src="//letskillie6.googlecode.com/svn/trunk/2/zh_CN.js"></script>
<![endif]-->

</body>
</html>
